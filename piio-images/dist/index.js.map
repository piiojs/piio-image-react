{"version":3,"file":"index.js","sources":["../src/piioElement.js","../src/piioHeader.js","../src/index.js"],"sourcesContent":["import React from 'react'\nimport styles from './styles.module.css'\n\nfunction selectTag(tagName, path, content,className) {\n  if (tagName === 'img') {\n    return <img className={className} data-piio={path} src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" />\n  }else if (tagName === 'source'){\n    return <source className={className} data-piio={path} src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" />\n  } else {\n    return <div tag={tagName} className={className} data-piio-bck={path}>{content}</div>\n  }\n\n}\nexport const Element = ({ tag, path, content, className }) => {\n  return selectTag(tag, path, content, className)\n}\n","import React, { useEffect } from 'react'\n\nfunction initScripts(domainKey) {\n  //Append to head\n  var preconnect = document.createElement('link');\n  preconnect.rel = 'preconnect';\n  preconnect.href = '//pcdn.piiojs.com';\n  preconnect.crossOrigin = 'anonymous';\n  document.head.appendChild(preconnect);\n\n  var preload = document.createElement('link');\n  preload.rel = 'preload';\n  preload.as = 'script';\n  preload.href = '//pcdn.piiojs.com/'+domainKey+'/image.min.js';\n  document.head.appendChild(preload);\n\n  var piioScript = document.createElement('script');\n  piioScript.type = 'text/javascript';\n  piioScript.textContent = '(function(i,m,a,g,e) {e = i.getElementsByTagName(m)[0], (g = i.createElement(m)).src = \"//pcdn.piiojs.com/\"+a+\"/image.min.js\",g.onerror = function() {(g = i.createElement(m)).src = \"https://fs.piio.co/image-failover.min.js\",e.parentNode.insertBefore(g, e);}, e.parentNode.insertBefore(g, e);}(document, \"script\", \"'+domainKey+'\"));';\n  document.head.appendChild(piioScript);\n}\n\nexport const Header = ({ domainKey }) => {\n  useEffect(() => initScripts(domainKey), [])\n\n  return null\n}\n","import React from 'react'\nimport styles from './styles.module.css'\nimport { Element } from './piioElement.js'\nimport { Header } from './piioHeader.js'\n\nexport const PiioElement = Element\nexport const Piio = Header\n"],"names":["selectTag","tagName","path","content","className","React","Element","tag","initScripts","domainKey","preconnect","document","createElement","rel","href","crossOrigin","head","appendChild","preload","as","piioScript","type","textContent","Header","useEffect","PiioElement","Piio"],"mappings":";;;;;AAGA,SAASA,SAAT,CAAmBC,OAAnB,EAA4BC,IAA5B,EAAkCC,OAAlC,EAA0CC,SAA1C,EAAqD;AACnD,MAAIH,OAAO,KAAK,KAAhB,EAAuB;AACrB,wBAAOI;AAAK,MAAA,SAAS,EAAED,SAAhB;AAA2B,mBAAWF,IAAtC;AAA4C,MAAA,GAAG,EAAC;AAAhD,MAAP;AACD,GAFD,MAEM,IAAID,OAAO,KAAK,QAAhB,EAAyB;AAC7B,wBAAOI;AAAQ,MAAA,SAAS,EAAED,SAAnB;AAA8B,mBAAWF,IAAzC;AAA+C,MAAA,GAAG,EAAC;AAAnD,MAAP;AACD,GAFK,MAEC;AACL,wBAAOG;AAAK,MAAA,GAAG,EAAEJ,OAAV;AAAmB,MAAA,SAAS,EAAEG,SAA9B;AAAyC,uBAAeF;AAAxD,OAA+DC,OAA/D,CAAP;AACD;AAEF;;AACM,IAAMG,OAAO,GAAG,SAAVA,OAAU,OAAuC;AAAA,MAApCC,GAAoC,QAApCA,GAAoC;AAAA,MAA/BL,IAA+B,QAA/BA,IAA+B;AAAA,MAAzBC,OAAyB,QAAzBA,OAAyB;AAAA,MAAhBC,SAAgB,QAAhBA,SAAgB;AAC5D,SAAOJ,SAAS,CAACO,GAAD,EAAML,IAAN,EAAYC,OAAZ,EAAqBC,SAArB,CAAhB;AACD,CAFM;;ACXP,SAASI,WAAT,CAAqBC,SAArB,EAAgC;AAE9B,MAAIC,UAAU,GAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAjB;AACAF,EAAAA,UAAU,CAACG,GAAX,GAAiB,YAAjB;AACAH,EAAAA,UAAU,CAACI,IAAX,GAAkB,mBAAlB;AACAJ,EAAAA,UAAU,CAACK,WAAX,GAAyB,WAAzB;AACAJ,EAAAA,QAAQ,CAACK,IAAT,CAAcC,WAAd,CAA0BP,UAA1B;AAEA,MAAIQ,OAAO,GAAGP,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAd;AACAM,EAAAA,OAAO,CAACL,GAAR,GAAc,SAAd;AACAK,EAAAA,OAAO,CAACC,EAAR,GAAa,QAAb;AACAD,EAAAA,OAAO,CAACJ,IAAR,GAAe,uBAAqBL,SAArB,GAA+B,eAA9C;AACAE,EAAAA,QAAQ,CAACK,IAAT,CAAcC,WAAd,CAA0BC,OAA1B;AAEA,MAAIE,UAAU,GAAGT,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAjB;AACAQ,EAAAA,UAAU,CAACC,IAAX,GAAkB,iBAAlB;AACAD,EAAAA,UAAU,CAACE,WAAX,GAAyB,+TAA6Tb,SAA7T,GAAuU,MAAhW;AACAE,EAAAA,QAAQ,CAACK,IAAT,CAAcC,WAAd,CAA0BG,UAA1B;AACD;;AAED,AAAO,IAAMG,MAAM,GAAG,SAATA,MAAS,OAAmB;AAAA,MAAhBd,SAAgB,QAAhBA,SAAgB;AACvCe,EAAAA,eAAS,CAAC;AAAA,WAAMhB,WAAW,CAACC,SAAD,CAAjB;AAAA,GAAD,EAA+B,EAA/B,CAAT;AAEA,SAAO,IAAP;AACD,CAJM;;ICjBMgB,WAAW,GAAGnB,OAApB;AACP,IAAaoB,IAAI,GAAGH,MAAb;;;;;"}
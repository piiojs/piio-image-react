{"version":3,"file":"index.js","sources":["../src/piioElement.js","../src/piioHeader.js","../src/index.js"],"sourcesContent":["import React from 'react'\nimport styles from './styles.module.css'\n\nfunction selectTag(tagName, path, content) {\n  if (tagName === 'img') {\n    return <img class={styles.source} data-piio={path} src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" />\n  }else if (tagName === 'source'){\n    return <img class={styles.source} data-piio={path} src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" />\n  } else {\n    return <div class={styles.background} data-piio-bck={path}>{content}</div>\n  }\n\n}\nexport const Element = ({ tag, path, content }) => {\n  return selectTag(tag, path, content)\n}\n","import React, { useEffect } from 'react'\n\nfunction initScripts(domainKey) {\n  //Append to head\n  var preconnect = document.createElement('link');\n  preconnect.rel = 'preconnect';\n  preconnect.href = '//pcdn.piiojs.com';\n  document.head.appendChild(preconnect);\n\n  var preload = document.createElement('link');\n  preload.rel = 'preload';\n  preload.as = 'script';\n  preload.href = '//pcdn.piiojs.com/'+domainKey+'/image.min.js';\n  document.head.appendChild(preload);\n\n  var piioScript = document.createElement('script');\n  piioScript.type = 'text/javascript';\n  piioScript.textContent = '(function(i,m,a,g,e) {e = i.getElementsByTagName(m)[0], (g = i.createElement(m)).src = \"//pcdn.piiojs.com/\"+a+\"/image.min.js\",g.onerror = function() {(g = i.createElement(m)).src = \"https://fs.piio.co/image-failover.min.js\",e.parentNode.insertBefore(g, e);}, e.parentNode.insertBefore(g, e);}(document, \"script\", \"'+domainKey+'\"));';\n  document.head.appendChild(piioScript);\n}\n\nexport const Header = ({ domainKey }) => {\n  useEffect(() => initScripts(domainKey), [])\n\n  return null\n}\n","import React from 'react'\nimport styles from './styles.module.css'\nimport { Element } from './piioElement.js'\nimport { Header } from './piioHeader.js'\n\nexport const PiioElement = Element\nexport const PiioHeader = Header\n"],"names":["selectTag","tagName","path","content","React","styles","source","background","Element","tag","initScripts","domainKey","preconnect","document","createElement","rel","href","head","appendChild","preload","as","piioScript","type","textContent","Header","useEffect","PiioElement","PiioHeader"],"mappings":";;;;;;;AAGA,SAASA,SAAT,CAAmBC,OAAnB,EAA4BC,IAA5B,EAAkCC,OAAlC,EAA2C;AACzC,MAAIF,OAAO,KAAK,KAAhB,EAAuB;AACrB,wBAAOG;AAAK,eAAOC,MAAM,CAACC,MAAnB;AAA2B,mBAAWJ,IAAtC;AAA4C,MAAA,GAAG,EAAC;AAAhD,MAAP;AACD,GAFD,MAEM,IAAID,OAAO,KAAK,QAAhB,EAAyB;AAC7B,wBAAOG;AAAK,eAAOC,MAAM,CAACC,MAAnB;AAA2B,mBAAWJ,IAAtC;AAA4C,MAAA,GAAG,EAAC;AAAhD,MAAP;AACD,GAFK,MAEC;AACL,wBAAOE;AAAK,eAAOC,MAAM,CAACE,UAAnB;AAA+B,uBAAeL;AAA9C,OAAqDC,OAArD,CAAP;AACD;AAEF;;AACD,AAAO,IAAMK,OAAO,GAAG,SAAVA,OAAU,OAA4B;AAAA,MAAzBC,GAAyB,QAAzBA,GAAyB;AAAA,MAApBP,IAAoB,QAApBA,IAAoB;AAAA,MAAdC,OAAc,QAAdA,OAAc;AACjD,SAAOH,SAAS,CAACS,GAAD,EAAMP,IAAN,EAAYC,OAAZ,CAAhB;AACD,CAFM;;ACXP,SAASO,WAAT,CAAqBC,SAArB,EAAgC;AAE9B,MAAIC,UAAU,GAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAjB;AACAF,EAAAA,UAAU,CAACG,GAAX,GAAiB,YAAjB;AACAH,EAAAA,UAAU,CAACI,IAAX,GAAkB,mBAAlB;AACAH,EAAAA,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BN,UAA1B;AAEA,MAAIO,OAAO,GAAGN,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAd;AACAK,EAAAA,OAAO,CAACJ,GAAR,GAAc,SAAd;AACAI,EAAAA,OAAO,CAACC,EAAR,GAAa,QAAb;AACAD,EAAAA,OAAO,CAACH,IAAR,GAAe,uBAAqBL,SAArB,GAA+B,eAA9C;AACAE,EAAAA,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BC,OAA1B;AAEA,MAAIE,UAAU,GAAGR,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAjB;AACAO,EAAAA,UAAU,CAACC,IAAX,GAAkB,iBAAlB;AACAD,EAAAA,UAAU,CAACE,WAAX,GAAyB,+TAA6TZ,SAA7T,GAAuU,MAAhW;AACAE,EAAAA,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BG,UAA1B;AACD;;AAED,AAAO,IAAMG,MAAM,GAAG,SAATA,MAAS,OAAmB;AAAA,MAAhBb,SAAgB,QAAhBA,SAAgB;AACvCc,EAAAA,eAAS,CAAC;AAAA,WAAMf,WAAW,CAACC,SAAD,CAAjB;AAAA,GAAD,EAA+B,EAA/B,CAAT;AAEA,SAAO,IAAP;AACD,CAJM;;IChBMe,WAAW,GAAGlB,OAApB;AACP,IAAamB,UAAU,GAAGH,MAAnB;;;;;"}
{"ast":null,"code":"import React, { useEffect } from 'react';\n\nfunction selectTag(tagName, path, content) {\n  if (tagName === 'img') {\n    return /*#__PURE__*/React.createElement(\"img\", {\n      class: styles.source,\n      \"data-piio\": path,\n      src: \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\n    });\n  } else if (tagName === 'source') {\n    return /*#__PURE__*/React.createElement(\"source\", {\n      class: styles.source,\n      \"data-piio\": path,\n      src: \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\n    });\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      tag: tagName,\n      class: styles.background,\n      \"data-piio-bck\": path\n    }, content);\n  }\n}\n\nconst Element = ({\n  tag,\n  path,\n  content\n}) => {\n  return selectTag(tag, path, content);\n};\n\nfunction initScripts(domainKey) {\n  var preconnect = document.createElement('link');\n  preconnect.rel = 'preconnect';\n  preconnect.href = '//pcdn.piiojs.com';\n  document.head.appendChild(preconnect);\n  var preload = document.createElement('link');\n  preload.rel = 'preload';\n  preload.as = 'script';\n  preload.href = '//pcdn.piiojs.com/' + domainKey + '/image.min.js';\n  document.head.appendChild(preload);\n  var piioScript = document.createElement('script');\n  piioScript.type = 'text/javascript';\n  piioScript.textContent = '(function(i,m,a,g,e) {e = i.getElementsByTagName(m)[0], (g = i.createElement(m)).src = \"//pcdn.piiojs.com/\"+a+\"/image.min.js\",g.onerror = function() {(g = i.createElement(m)).src = \"https://fs.piio.co/image-failover.min.js\",e.parentNode.insertBefore(g, e);}, e.parentNode.insertBefore(g, e);}(document, \"script\", \"' + domainKey + '\"));';\n  document.head.appendChild(piioScript);\n}\n\nconst Header = ({\n  domainKey\n}) => {\n  useEffect(() => initScripts(domainKey), []);\n  return null;\n};\n\nconst PiioElement = Element;\nconst PiioHeader = Header;\nexport { PiioElement, PiioHeader };","map":{"version":3,"sources":["../src/piioElement.js","../src/piioHeader.js","../src/index.js"],"names":["tagName","styles","path","Element","content","selectTag","preconnect","document","preload","piioScript","Header","domainKey","useEffect","initScripts","PiioElement","PiioHeader"],"mappings":";;AAEA,SAAA,SAAA,CAAA,OAAA,EAAA,IAAA,EAAA,OAAA,EAA2C;AACzC,MAAIA,OAAO,KAAX,KAAA,EAAuB;AACrB,WAAA,aAAO,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,MAAA,KAAK,EAAEC,MAAM,CAAlB,MAAA;AAA2B,mBAA3B,IAAA;AAA4C,MAAA,GAAG,EAAC;AAAhD,KAAA,CAAP;AADF,GAAA,MAEM,IAAID,OAAO,KAAX,QAAA,EAAyB;AAC7B,WAAA,aAAO,KAAA,CAAA,aAAA,CAAA,QAAA,EAAA;AAAQ,MAAA,KAAK,EAAEC,MAAM,CAArB,MAAA;AAA8B,mBAA9B,IAAA;AAA+C,MAAA,GAAG,EAAC;AAAnD,KAAA,CAAP;AADI,GAAA,MAEC;AACL,WAAA,aAAO,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,MAAA,GAAG,EAAR,OAAA;AAAmB,MAAA,KAAK,EAAEA,MAAM,CAAhC,UAAA;AAA6C,uBAAeC;AAA5D,KAAA,EAAP,OAAO,CAAP;AACD;AAEF;;AACM,MAAMC,OAAO,GAAG,CAAC;AAAA,EAAA,GAAA;AAAA,EAAA,IAAA;AAAaC,EAAAA;AAAb,CAAD,KAA4B;AACjD,SAAOC,SAAS,CAAA,GAAA,EAAA,IAAA,EAAhB,OAAgB,CAAhB;AADK,CAAA;;ACVP,SAAA,WAAA,CAAA,SAAA,EAAgC;AAE9B,MAAIC,UAAU,GAAGC,QAAQ,CAARA,aAAAA,CAAjB,MAAiBA,CAAjB;AACAD,EAAAA,UAAU,CAAVA,GAAAA,GAAAA,YAAAA;AACAA,EAAAA,UAAU,CAAVA,IAAAA,GAAAA,mBAAAA;AACAC,EAAAA,QAAQ,CAARA,IAAAA,CAAAA,WAAAA,CAAAA,UAAAA;AAEA,MAAIC,OAAO,GAAGD,QAAQ,CAARA,aAAAA,CAAd,MAAcA,CAAd;AACAC,EAAAA,OAAO,CAAPA,GAAAA,GAAAA,SAAAA;AACAA,EAAAA,OAAO,CAAPA,EAAAA,GAAAA,QAAAA;AACAA,EAAAA,OAAO,CAAPA,IAAAA,GAAe,uBAAA,SAAA,GAAfA,eAAAA;AACAD,EAAAA,QAAQ,CAARA,IAAAA,CAAAA,WAAAA,CAAAA,OAAAA;AAEA,MAAIE,UAAU,GAAGF,QAAQ,CAARA,aAAAA,CAAjB,QAAiBA,CAAjB;AACAE,EAAAA,UAAU,CAAVA,IAAAA,GAAAA,iBAAAA;AACAA,EAAAA,UAAU,CAAVA,WAAAA,GAAyB,+TAAA,SAAA,GAAzBA,MAAAA;AACAF,EAAAA,QAAQ,CAARA,IAAAA,CAAAA,WAAAA,CAAAA,UAAAA;AACD;;AAEM,MAAMG,MAAM,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAmB;AACvCC,EAAAA,SAAS,CAAC,MAAMC,WAAW,CAAlB,SAAkB,CAAlB,EAATD,EAAS,CAATA;AAEA,SAAA,IAAA;AAHK,CAAA;;MChBME,WAAW,GAAjB,O;AACP,MAAaC,UAAU,GAAhB,MAAP","sourcesContent":["import React from 'react'\n\nfunction selectTag(tagName, path, content) {\n  if (tagName === 'img') {\n    return <img class={styles.source} data-piio={path} src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" />\n  }else if (tagName === 'source'){\n    return <source class={styles.source} data-piio={path} src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" />\n  } else {\n    return <div tag={tagName} class={styles.background} data-piio-bck={path}>{content}</div>\n  }\n\n}\nexport const Element = ({ tag, path, content }) => {\n  return selectTag(tag, path, content)\n}\n","import React, { useEffect } from 'react'\n\nfunction initScripts(domainKey) {\n  //Append to head\n  var preconnect = document.createElement('link');\n  preconnect.rel = 'preconnect';\n  preconnect.href = '//pcdn.piiojs.com';\n  document.head.appendChild(preconnect);\n\n  var preload = document.createElement('link');\n  preload.rel = 'preload';\n  preload.as = 'script';\n  preload.href = '//pcdn.piiojs.com/'+domainKey+'/image.min.js';\n  document.head.appendChild(preload);\n\n  var piioScript = document.createElement('script');\n  piioScript.type = 'text/javascript';\n  piioScript.textContent = '(function(i,m,a,g,e) {e = i.getElementsByTagName(m)[0], (g = i.createElement(m)).src = \"//pcdn.piiojs.com/\"+a+\"/image.min.js\",g.onerror = function() {(g = i.createElement(m)).src = \"https://fs.piio.co/image-failover.min.js\",e.parentNode.insertBefore(g, e);}, e.parentNode.insertBefore(g, e);}(document, \"script\", \"'+domainKey+'\"));';\n  document.head.appendChild(piioScript);\n}\n\nexport const Header = ({ domainKey }) => {\n  useEffect(() => initScripts(domainKey), [])\n\n  return null\n}\n","import React from 'react'\nimport styles from './styles.module.css'\nimport { Element } from './piioElement.js'\nimport { Header } from './piioHeader.js'\n\nexport const PiioElement = Element\nexport const PiioHeader = Header\n"]},"metadata":{},"sourceType":"module"}